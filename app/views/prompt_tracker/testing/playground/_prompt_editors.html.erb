<%# Prompt Editors Section - Contains System Prompt and User Prompt Template %>
<div id="prompt-editor-panel"
     class="col-lg-6 mb-4"
     data-controller="playground-prompt-editor"
     data-playground-ui-target="promptEditorsSection"
     style="<%= show_prompt_editing?(playground_ui) ? '' : 'display: none;' %>">
  <div class="card h-100">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h5 class="mb-0">
        <i class="bi bi-code-square"></i>
        Prompt
      </h5>
      <div data-playground-ui-target="promptTemplateSection"
           style="<%= show_prompt_editing?(playground_ui) ? '' : 'display: none;' %>">
        <button type="button"
                class="btn btn-sm btn-outline-primary me-2"
                data-action="click->playground-generate-prompt#openModal"
                data-playground-generate-prompt-target="aiButton"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                title="Generate a new prompt from description">
          <i class="bi bi-stars" data-playground-generate-prompt-target="aiButtonIcon"></i>
          <span data-playground-generate-prompt-target="aiButtonText">Generate</span>
        </button>
        <span class="badge bg-secondary me-2" id="template-engine-badge">Auto-detect</span>
        <span class="badge bg-info" id="char-count" data-playground-prompt-editor-target="charCount">0 chars</span>
      </div>
    </div>
    <div class="card-body">
      <%= render "prompt_tracker/testing/playground/system_prompt",
                 playground_ui: playground_ui,
                 version: version %>

      <%= render "prompt_tracker/testing/playground/user_prompt",
                 playground_ui: playground_ui,
                 version: version %>
    </div>
  </div>
</div>
