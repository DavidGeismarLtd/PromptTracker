<tr id="dataset-row-<%= dataset_row.id %>">
  <td class="text-muted"><%= index %></td>
  <td>
    <div style="max-width: 500px; overflow: hidden; text-overflow: ellipsis;">
      <%= dataset_row.row_data["interlocutor_simulation_prompt"] %>
    </div>
  </td>
  <td>
    <span class="badge bg-secondary"><%= dataset_row.row_data["max_turns"] || 3 %></span>
  </td>
  <td>
    <% case dataset_row.source %>
    <% when "manual" %>
      <span class="badge bg-secondary"><i class="bi bi-pencil"></i> Manual</span>
    <% when "llm_generated" %>
      <span class="badge bg-primary"><i class="bi bi-stars"></i> AI</span>
    <% when "imported" %>
      <span class="badge bg-info"><i class="bi bi-upload"></i> Import</span>
    <% end %>
  </td>
  <td>
    <div class="btn-group btn-group-sm">
      <button type="button"
              class="btn btn-outline-secondary"
              data-bs-toggle="modal"
              data-bs-target="#editRowModal-<%= dataset_row.id %>"
              title="Edit">
        <i class="bi bi-pencil"></i>
      </button>
      <%= button_to PromptTracker::Engine.routes.url_helpers.testing_openai_assistant_dataset_dataset_row_path(assistant, dataset, dataset_row),
                    method: :delete,
                    class: "btn btn-outline-danger btn-sm",
                    data: { confirm: "Delete this row?", turbo_method: :delete },
                    form: { data: { turbo_frame: "_top" } } do %>
        <i class="bi bi-trash"></i>
      <% end %>
    </div>
  </td>
</tr>
