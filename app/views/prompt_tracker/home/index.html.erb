<% content_for :breadcrumbs do %>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item active" aria-current="page">Home</li>
    </ol>
  </nav>
<% end %>

<!-- Hero Section -->
<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 3rem 2rem; border-radius: 12px; margin-bottom: 3rem; text-align: center;">
  <h1 style="font-size: 2.5rem; font-weight: bold; margin-bottom: 1rem; color: white;">
    <i class="bi bi-lightning-charge-fill" style="color: white;"></i> PromptTracker
  </h1>
  <p style="font-size: 1.25rem; opacity: 0.95; max-width: 800px; margin: 0 auto;">
    Manage, test, and monitor your LLM prompts with confidence
  </p>
</div>

<!-- Quick Stats -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 3rem;">
  <div style="background: white; border: 2px solid #E5E7EB; border-radius: 8px; padding: 1.5rem; text-align: center;">
    <div style="color: #6B7280; font-size: 0.875rem; margin-bottom: 0.5rem;">Total Prompts</div>
    <div style="color: #667eea; font-size: 2rem; font-weight: bold;"><%= @total_prompts %></div>
    <div style="color: #9CA3AF; font-size: 0.75rem;"><%= @active_prompts %> active</div>
  </div>

  <div style="background: white; border: 2px solid #DBEAFE; border-radius: 8px; padding: 1.5rem; text-align: center;">
    <div style="color: #6B7280; font-size: 0.875rem; margin-bottom: 0.5rem;">Test Runs</div>
    <div style="color: #3B82F6; font-size: 2rem; font-weight: bold;"><%= @total_test_runs %></div>
    <div style="color: #9CA3AF; font-size: 0.75rem;">pre-deployment</div>
  </div>

  <div style="background: white; border: 2px solid #D1FAE5; border-radius: 8px; padding: 1.5rem; text-align: center;">
    <div style="color: #6B7280; font-size: 0.875rem; margin-bottom: 0.5rem;">Tracked Calls</div>
    <div style="color: #10B981; font-size: 2rem; font-weight: bold;"><%= @total_tracked_calls %></div>
    <div style="color: #9CA3AF; font-size: 0.75rem;"><%= @total_evaluations %> evaluations</div>
  </div>
</div>

<!-- Main Sections -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem; margin-bottom: 3rem;">

  <!-- Testing Section -->
  <div style="background: white; border: 3px solid #DBEAFE; border-radius: 12px; padding: 2rem; position: relative; overflow: hidden;">
    <div style="position: absolute; top: 0; right: 0; width: 150px; height: 150px; background: #DBEAFE; border-radius: 0 0 0 100%; opacity: 0.3;"></div>

    <div style="position: relative; z-index: 1;">
      <div style="display: flex; align-items: center; margin-bottom: 1rem;">
        <div style="background: #EFF6FF; color: #3B82F6; width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem; border: 2px solid #DBEAFE;">
          <i class="bi bi-flask" style="font-size: 1.5rem;"></i>
        </div>
        <h2 style="font-size: 1.75rem; font-weight: bold; color: #1E40AF; margin: 0;">Testing</h2>
      </div>

      <p style="color: #64748B; font-size: 1rem; line-height: 1.6; margin-bottom: 1.5rem;">
        <strong>Pre-deployment validation</strong> for your prompts. Create prompts, manage versions,
        run tests with sample inputs, and evaluate results before deploying to production.
      </p>

      <div style="background: #EFF6FF; border-left: 4px solid #3B82F6; padding: 1rem; margin-bottom: 1.5rem; border-radius: 4px;">
        <div style="font-weight: 600; color: #1E40AF; margin-bottom: 0.5rem;">
          <i class="bi bi-check-circle-fill"></i> What you can do:
        </div>
        <ul style="margin: 0; padding-left: 1.5rem; color: #475569;">
          <li>Create and edit prompts in the playground</li>
          <li>Manage prompt versions and compare changes</li>
          <li>Run test suites with predefined inputs</li>
          <li>Evaluate test results with custom evaluators</li>
          <li>Activate versions for production use</li>
        </ul>
      </div>

      <%= link_to testing_root_path, style: "display: inline-block; background: #3B82F6; color: white; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; transition: all 0.2s;" do %>
        <i class="bi bi-arrow-right-circle"></i> Go to Testing Dashboard
      <% end %>
    </div>
  </div>

  <!-- Monitoring Section -->
  <div style="background: white; border: 3px solid #D1FAE5; border-radius: 12px; padding: 2rem; position: relative; overflow: hidden;">
    <div style="position: absolute; top: 0; right: 0; width: 150px; height: 150px; background: #D1FAE5; border-radius: 0 0 0 100%; opacity: 0.3;"></div>

    <div style="position: relative; z-index: 1;">
      <div style="display: flex; align-items: center; margin-bottom: 1rem;">
        <div style="background: #ECFDF5; color: #10B981; width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem; border: 2px solid #D1FAE5;">
          <i class="bi bi-activity" style="font-size: 1.5rem;"></i>
        </div>
        <h2 style="font-size: 1.75rem; font-weight: bold; color: #065F46; margin: 0;">Monitoring</h2>
      </div>

      <p style="color: #64748B; font-size: 1rem; line-height: 1.6; margin-bottom: 1.5rem;">
        <strong>Runtime tracking and evaluation</strong> of your live LLM calls. Monitor real-world
        usage across all environments (staging, production), track performance metrics, and automatically evaluate runtime responses.
      </p>

      <div style="background: #ECFDF5; border-left: 4px solid #10B981; padding: 1rem; margin-bottom: 1.5rem; border-radius: 4px;">
        <div style="font-weight: 600; color: #065F46; margin-bottom: 0.5rem;">
          <i class="bi bi-check-circle-fill"></i> What you can do:
        </div>
        <ul style="margin: 0; padding-left: 1.5rem; color: #475569;">
          <li>View real-time runtime LLM calls</li>
          <li>Track performance metrics and trends</li>
          <li>Configure auto-evaluators for versions</li>
          <li>Monitor failing evaluations and alerts</li>
          <li>Filter by environment, user, and session</li>
        </ul>
      </div>

      <%= link_to monitoring_root_path, style: "display: inline-block; background: #10B981; color: white; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; transition: all 0.2s;" do %>
        <i class="bi bi-arrow-right-circle"></i> Go to Monitoring Dashboard
      <% end %>
    </div>
  </div>

</div>

<!-- Quick Actions -->
<div style="background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%); border-radius: 12px; padding: 2rem; text-align: center;">
  <h3 style="font-size: 1.5rem; font-weight: bold; color: #374151; margin-bottom: 1.5rem;">
    <i class="bi bi-rocket-takeoff"></i> Quick Actions
  </h3>

  <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
    <%= link_to testing_playground_path, style: "display: inline-flex; align-items: center; gap: 0.5rem; background: white; color: #667eea; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; border: 2px solid #667eea; transition: all 0.2s;" do %>
      <i class="bi bi-plus-circle-fill"></i> Create New Prompt
    <% end %>

    <%= link_to testing_prompts_path, style: "display: inline-flex; align-items: center; gap: 0.5rem; background: white; color: #3B82F6; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; border: 2px solid #DBEAFE; transition: all 0.2s;" do %>
      <i class="bi bi-list-ul"></i> View All Prompts
    <% end %>

    <%= link_to testing_runs_path, style: "display: inline-flex; align-items: center; gap: 0.5rem; background: white; color: #8B5CF6; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; border: 2px solid #EDE9FE; transition: all 0.2s;" do %>
      <i class="bi bi-clock-history"></i> Recent Test Runs
    <% end %>
  </div>
</div>
