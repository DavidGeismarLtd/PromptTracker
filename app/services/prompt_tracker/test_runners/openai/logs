


  RunTestJob ðŸš€ RunTestJob started for test_run 20
  RunTestJob ================================================================================
  RunTestJob ResponseApiExecutor#call_real_response_api
  RunTestJob Model config: {"api"=>"responses", "model"=>"gpt-4o", "tools"=>["functions"], "provider"=>"openai", "max_tokens"=>1500, "temperature"=>0.7, "tool_config"=>{"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}}
  RunTestJob Tools from config: ["functions"]
  RunTestJob Tool config from config: {"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}
  RunTestJob ================================================================================
  RunTestJob ================================================================================
  RunTestJob OpenaiResponseService#call
  RunTestJob Tools: [:functions]
  RunTestJob Tool config: {"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}
  RunTestJob Formatting functions tool - function_tools: [{:type=>"function", :name=>"search_products", :description=>"Search for products in the catalog", :parameters=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, :strict=>false}, {:type=>"function", :name=>"get_order_status", :description=>"Get the status of an order", :parameters=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, :strict=>false}, {:type=>"function", :name=>"initiate_return", :description=>"Start a return process for an order", :parameters=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, :strict=>false}, {:type=>"function", :name=>"get_product_details", :description=>"Get detailed information about a specific product", :parameters=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, :strict=>false}]
  RunTestJob format_tools result: [{:type=>"function", :name=>"search_products", :description=>"Search for products in the catalog", :parameters=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, :strict=>false}, {:type=>"function", :name=>"get_order_status", :description=>"Get the status of an order", :parameters=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, :strict=>false}, {:type=>"function", :name=>"initiate_return", :description=>"Start a return process for an order", :parameters=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, :strict=>false}, {:type=>"function", :name=>"get_product_details", :description=>"Get detailed information about a specific product", :parameters=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, :strict=>false}]
  RunTestJob Build parameters: {:model=>"gpt-4o", :input=>"Customer inquiry: My order ORD-12345 has missing parts, id like to initiate a return", :instructions=>"You are an e-commerce assistant. Your role is to:\n1. Help customers find products using search\n2. Check order status and shipping information\n3. Process returns and refunds\n4. Answer product questions\n5. Provide personalized recommendations\n\nUse the available functions to access the product catalog and order system.\nBe helpful, friendly, and efficient.", :temperature=>0.7, :tools=>[{:type=>"function", :name=>"search_products", :description=>"Search for products in the catalog", :parameters=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, :strict=>false}, {:type=>"function", :name=>"get_order_status", :description=>"Get the status of an order", :parameters=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, :strict=>false}, {:type=>"function", :name=>"initiate_return", :description=>"Start a return process for an order", :parameters=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, :strict=>false}, {:type=>"function", :name=>"get_product_details", :description=>"Get detailed information about a specific product", :parameters=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, :strict=>false}]}
  RunTestJob ================================================================================
  RunTestJob Formatting functions tool - function_tools: [{:type=>"function", :name=>"search_products", :description=>"Search for products in the catalog", :parameters=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, :strict=>false}, {:type=>"function", :name=>"get_order_status", :description=>"Get the status of an order", :parameters=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, :strict=>false}, {:type=>"function", :name=>"initiate_return", :description=>"Start a return process for an order", :parameters=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, :strict=>false}, {:type=>"function", :name=>"get_product_details", :description=>"Get detailed information about a specific product", :parameters=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, :strict=>false}]
  RunTestJob format_tools result: [{:type=>"function", :name=>"search_products", :description=>"Search for products in the catalog", :parameters=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, :strict=>false}, {:type=>"function", :name=>"get_order_status", :description=>"Get the status of an order", :parameters=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, :strict=>false}, {:type=>"function", :name=>"initiate_return", :description=>"Start a return process for an order", :parameters=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, :strict=>false}, {:type=>"function", :name=>"get_product_details", :description=>"Get detailed information about a specific product", :parameters=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, :strict=>false}]
  RunTestJob ================================================================================
  RunTestJob OpenaiResponseService#call
  RunTestJob Tools: [:functions]
 RunTestJob Tool config: {"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}
 RunTestJob Build parameters: {:model=>"gpt-4o", :input=>[{:type=>"function_call_output", :call_id=>"call_p8I0ZzjADBrGQsNnJQaoKwi1", :output=>"{\"success\":true,\"message\":\"Mock result for initiate_return\",\"data\":{\"order_id\":\"ORD-12345\",\"reason\":\"Missing parts\"}}"}], :previous_response_id=>"resp_0bfd67c4e011ec9300697b1f73dda481948b16a87feede75d0"}
 RunTestJob ================================================================================
:02.688Z  RunTestJob ================================================================================
:02.688Z  RunTestJob ResponseApiExecutor#call_real_response_api
:02.688Z  RunTestJob Model config: {"api"=>"responses", "model"=>"gpt-4o", "tools"=>["functions"], "provider"=>"openai", "max_tokens"=>1500, "temperature"=>0.7, "tool_config"=>{"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}}
:02.688Z  RunTestJob Tools from config: ["functions"]
 RunTestJob Tool config from config: {"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}
 RunTestJob ================================================================================
 RunTestJob ================================================================================
 RunTestJob OpenaiResponseService#call
 RunTestJob Tools: [:functions]
 RunTestJob Tool config: {"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}
 RunTestJob Build parameters: {:model=>"gpt-4o", :input=>"Thank you! How long will it take to process the return?", :previous_response_id=>"resp_0bfd67c4e011ec9300697b1f74f4048194aec96f8a808ac1ce"}
 RunTestJob ================================================================================
  RunTestJob ================================================================================
  RunTestJob ResponseApiExecutor#call_real_response_api
  RunTestJob Model config: {"api"=>"responses", "model"=>"gpt-4o", "tools"=>["functions"], "provider"=>"openai", "max_tokens"=>1500, "temperature"=>0.7, "tool_config"=>{"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}}
  RunTestJob Tools from config: ["functions"]
  RunTestJob Tool config from config: {"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}
  ================================================================================
  RunTestJob ================================================================================
  OpenaiResponseService#call
  RunTestJob Tools: [:functions]
  RunTestJob Tool config: {"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}
  RunTestJob Build parameters: {:model=>"gpt-4o", :input=>"That sounds good! Will I be responsible for the return shipping costs?", :previous_response_id=>"resp_0bfd67c4e011ec9300697b1f76d3848194925326555adfd593"}
   ================================================================================
  RunTestJob ================================================================================
  RunTestJob ResponseApiExecutor#call_real_response_api
  RunTestJob Model config: {"api"=>"responses", "model"=>"gpt-4o", "tools"=>["functions"], "provider"=>"openai", "max_tokens"=>1500, "temperature"=>0.7, "tool_config"=>{"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}}
  RunTestJob Tools from config: ["functions"]
  RunTestJob Tool config from config: {"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}
  RunTestJob ================================================================================
  RunTestJob ================================================================================
  RunTestJob OpenaiResponseService#call
  RunTestJob Tools: [:functions]
  RunTestJob Tool config: {"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}
  RunTestJob Build parameters: {:model=>"gpt-4o", :input=>"User: Great! I'll keep an eye out for the shipping label. Thanks for your help!", :previous_response_id=>"resp_0bfd67c4e011ec9300697b1f78c33c8194bb17e679f2d1dc9b"}
  RunTestJob ================================================================================
  RunTestJob ================================================================================
  RunTestJob ResponseApiExecutor#call_real_response_api
  RunTestJob Model config: {"api"=>"responses", "model"=>"gpt-4o", "tools"=>["functions"], "provider"=>"openai", "max_tokens"=>1500, "temperature"=>0.7, "tool_config"=>{"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}}
  RunTestJob Tools from config: ["functions"]
  RunTestJob Tool config from config: {"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}
  RunTestJob ================================================================================
  RunTestJob ================================================================================
  RunTestJob OpenaiResponseService#call
  RunTestJob Tools: [:functions]
  RunTestJob Tool config: {"functions"=>[{"name"=>"search_products", "parameters"=>{"type"=>"object", "required"=>["query"], "properties"=>{"query"=>{"type"=>"string", "description"=>"Search query"}, "category"=>{"type"=>"string", "description"=>"Product category"}, "in_stock"=>{"type"=>"boolean", "description"=>"Only show in-stock items"}, "max_price"=>{"type"=>"number", "description"=>"Maximum price filter"}}}, "description"=>"Search for products in the catalog"}, {"name"=>"get_order_status", "parameters"=>{"type"=>"object", "required"=>["order_id"], "properties"=>{"order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Get the status of an order"}, {"name"=>"initiate_return", "parameters"=>{"type"=>"object", "required"=>["order_id", "reason"], "properties"=>{"items"=>{"type"=>"array", "items"=>{"type"=>"string"}, "description"=>"Item IDs to return"}, "reason"=>{"type"=>"string", "description"=>"Reason for return"}, "order_id"=>{"type"=>"string", "description"=>"The order ID"}}}, "description"=>"Start a return process for an order"}, {"name"=>"get_product_details", "parameters"=>{"type"=>"object", "required"=>["product_id"], "properties"=>{"product_id"=>{"type"=>"string", "description"=>"The product ID"}}}, "description"=>"Get detailed information about a specific product"}]}
  RunTestJob Build parameters: {:model=>"gpt-4o", :input=>"User: Will do! Have a great day too!", :previous_response_id=>"resp_0bfd67c4e011ec9300697b1f7b83708194b403fe54bcbcbbc7"}
  RunTestJob ================================================================================
  RunTestJob âœ… RunTestJob completed for test_run 20
