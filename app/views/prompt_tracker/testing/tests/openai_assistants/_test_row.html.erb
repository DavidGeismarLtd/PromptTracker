<% assistant ||= test.testable %>
<tr id="test_row_<%= test.id %>">
  <%= render "prompt_tracker/testing/tests/cells/name", test: test %>
  <%= render "prompt_tracker/testing/tests/cells/evaluator_configs", test: test %>
  <%= render "prompt_tracker/testing/tests/cells/status", test: test %>
  <%= render "prompt_tracker/testing/tests/cells/last_run", test: test %>
  <%= render "prompt_tracker/testing/tests/cells/total_runs", test: test %>
  <%= render "prompt_tracker/testing/tests/cells/actions", test: test %>
</tr>

<%= render "prompt_tracker/testing/tests/run_test_modal",
    testable: assistant,
    test: test,
    form_url:  PromptTracker::Engine.routes.url_helpers.run_testing_openai_assistant_test_path(assistant, test),
    modal_id: "runTestModal-#{test.id}",
    modal_title: "Run Test: #{test.name}",
    submit_button_text: "Run Test",
    datasets_path:  PromptTracker::Engine.routes.url_helpers.testing_openai_assistant_datasets_path(assistant),
    intro_text: "Choose how to run this test:",
    dataset_mode_description: "Execute test for all rows in a dataset",
    custom_mode_description: "Execute test once with manually entered values",
    custom_variables_context: "Enter values for the test scenario:" %>
