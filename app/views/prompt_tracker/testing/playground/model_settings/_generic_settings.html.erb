<%# Generic Model Settings %>

<!-- Model Selection -->
<div class="mb-3">
  <label for="model-name" class="form-label">Model</label>
  <select
    id="model-name"
    class="form-select"
    data-playground-ui-target="modelName"
  >
    <% if config_data[:models].any? %>
      <% config_data[:models].group_by { |m| m[:category] }.each do |category, models_in_category| %>
        <% if category.present? %>
          <optgroup label="<%= category %>">
        <% end %>

        <% models_in_category.each do |model| %>
          <option value="<%= model[:id] %>"
                  <%= 'selected' if config_data[:current_model] == model[:id] %>>
            <%= model[:name] || model[:id] %>
          </option>
        <% end %>

        <% if category.present? %>
          </optgroup>
        <% end %>
      <% end %>
    <% end %>
  </select>

  <div class="form-text">
    Select a model from the configured list
  </div>
</div>

<!-- Temperature -->
<div class="mb-3">
  <label for="model-temperature" class="form-label">
    Temperature
    <span class="badge bg-secondary" data-playground-ui-target="temperatureBadge">
      <%= version&.model_config&.dig('temperature') || 0.7 %>
    </span>
  </label>
  <input
    type="range"
    id="model-temperature"
    class="form-range"
    min="0"
    max="2"
    step="0.1"
    value="<%= version&.model_config&.dig('temperature') || 0.7 %>"
    data-action="input->playground-ui#onTemperatureChange"
  >
  <div class="form-text">
    Controls randomness (0 = deterministic, 2 = very random)
  </div>
</div>

<!-- Max Tokens -->
<div class="mb-3">
  <label for="model-max-tokens" class="form-label">Max Tokens (Optional)</label>
  <input
    type="number"
    id="model-max-tokens"
    class="form-control"
    placeholder="Leave empty for default"
    value="<%= version&.model_config&.dig('max_tokens') %>"
  >
  <div class="form-text">
    Maximum tokens to generate (leave empty for provider default)
  </div>
</div>

