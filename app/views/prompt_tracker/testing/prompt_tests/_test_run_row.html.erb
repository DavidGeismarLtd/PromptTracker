<tr id="test_run_row_<%= run.id %>">
  <td><%= format_timestamp(run.created_at) %></td>
  <td>v<%= run.prompt_version.version_number %></td>
  <td>
    <% case run.status %>
    <% when 'running' %>
      <span class="badge bg-warning">
        <span class="spinner-border spinner-border-sm me-1"></span>Running
      </span>
    <% when 'passed' %>
      <span class="badge bg-success">Passed</span>
    <% when 'failed' %>
      <span class="badge bg-danger">Failed</span>
    <% when 'error' %>
      <span class="badge bg-danger">Error</span>
    <% else %>
      <span class="badge bg-secondary"><%= run.status.titleize %></span>
    <% end %>
  </td>
  <td class="text-end"><%= run.execution_time_ms %>ms</td>
  <td class="text-end"><%= format_cost(run.cost_usd) %></td>
  <td>
    <span class="badge bg-success"><%= run.passed_evaluators || 0 %> passed</span>
    <% if run.failed_evaluators && run.failed_evaluators > 0 %>
      <span class="badge bg-danger"><%= run.failed_evaluators %> failed</span>
    <% end %>
  </td>
  <td>
    <%= link_to "View", prompt_test_run_path(run), class: "btn btn-sm btn-outline-primary" %>
  </td>
</tr>
